<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>ë‚˜ì˜ ì²« ì›¹ì‚¬ì´íŠ¸</title>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 50px;
        }

        input {
            margin: 5px;
            padding: 10px;
            width: 200px;
        }

        button {
            padding: 10px 20px;
            cursor: pointer;
            background: #007bff;
            color: white;
            border: none;
        }
    </style>
</head>

<body>
    <h2>íšŒì›ê°€ì…</h2>
    <input type="text" id="regUser" placeholder="ì•„ì´ë””">
    <input type="password" id="regPass" placeholder="ë¹„ë°€ë²ˆí˜¸">
    <button onclick="register()">ê°€ì…í•˜ê¸°</button>

    <hr style="width: 300px; margin: 30px;">

    <h2>ë¡œê·¸ì¸</h2>
    <input type="text" id="loginUser" placeholder="ì•„ì´ë””">
    <input type="password" id="loginPass" placeholder="ë¹„ë°€ë²ˆí˜¸">
    <button onclick="login()">ë¡œê·¸ì¸</button>

    <script>
        // ğŸš¨ ì—¬ê¸°ì— Renderì—ì„œ ë°›ì€ ë³¸ì¸ì˜ URLì„ ë„£ìœ¼ì„¸ìš”!
        const SERVER_URL = 'https://my-auth-web.onrender.com';

        async function register() {
            const username = document.getElementById('regUser').value;
            const password = document.getElementById('regPass').value;

            const res = await fetch(`${SERVER_URL}/register`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, password })
            });
            const data = await res.json();
            alert(data.message || data.error);
        }

        async function login() {
            const username = document.getElementById('loginUser').value;
            const password = document.getElementById('loginPass').value;

            const res = await fetch(`${SERVER_URL}/login`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, password })
            });
            const data = await res.json();
            alert(data.message || data.error);
        }
    </script>
</body>

</html>